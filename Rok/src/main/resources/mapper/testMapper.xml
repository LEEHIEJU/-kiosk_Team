<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.rok.kiosk.dao">
	<!-- namespace를 인터페이스 이름과 일치 시켜야 한다. -->
	<select id="DATE" resultType="string">
		select sysdate from dual
	</select>
	
	<select id="admin" parameterType="Admin" resultType="kr.rok.kiosk.vo.AdminVO">
		select 
		#{ADMINPW } as adminpw
		from ADMIN
		where adminpw = #{param1}
	</select>
	
	<select id="menu" parameterType="Menu" resultType="kr.rok.kiosk.vo.MenuVO">
		select 
		FOODNUM AS foodnum,
		FOODNAME AS foodname,
		FOODTYPE AS foodtype,
		FOODPRICE AS foodprice,
		FOODSOLDOUT AS foodsoldout,
		FOODLEV AS foodlev
		from MENU
		
	</select>
	
	<select id="size" parameterType="DrinkSize" resultType="kr.rok.kiosk.vo.DrinkSizeVO">
		select 
		DRINKSIZEID AS drinksizeid,
		HOTSMALL AS hotsmall,
		ROUND(ICESMALL + 500) AS icesmall,
		ROUND(HOTLARGE + 1000) AS hotlarge,
		ROUND(ICELARGE + 1500) AS icelarge
		from DRINKSIZE
	</select>
	
	<select id="ordrcode" parameterType="Ordercode" resultType="kr.rok.kiosk.vo.OrdercodeVO">
		select 
		ORDERNUM AS ordernum,
		ORDERWHERE AS orderwhere,
		ORDERIN AS orderin,
		sysdate AS ORDERDATE,
		COUPON AS coupon
		from ORDERCODE
	</select>
	
	<select id="ordernum" parameterType="Ordernum" resultType="kr.rok.kiosk.vo.OrdernumVO">
		select 
		IDX AS idx,
		FOODSTOCK AS foodstock,
		ORDERCOUNT AS ordercount,
		ORDERCODE.ORDERNUM AS ordernum,
		MENU.FOODNUM AS foodname,
		MENU.FOODPRICE AS foodprice
		from ORDERNUM, MENU
		WHERE ORDERNUM MENU = MENU.MENU
	</select>
	
</mapper>